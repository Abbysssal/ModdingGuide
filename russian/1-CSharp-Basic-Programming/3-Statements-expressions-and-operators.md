### [НА ГЛАВНУЮ СТРАНИЦУ](../../README.md) ###

1. [Создание проекта в Visual Studio](./1-Creating-a-project-in-Visual-Studio.md);
2. [Работаем с числами](./2-Working-with-numbers.md);
3. **Высказывания, выражения и операторы**;
4. [Ветвление и циклы](./4-Branches-and-loops.md);

# Высказывания, выражения и операторы #

Все действия, описываемые кодом C#, записаны как **высказывания**. Высказывания разделяются **точкой с запятой `;`**. Также существуют **блоки высказываний**, они помещаются в **`{` `}` кавычки** и могут содержать в себе несколько высказываний.

```cs
int a = 1;

{
    Console.WriteLine("Bazinga.");

    {
        int d = 2;
    }
    int e = 3;
}
```

**Выражения** - это комбинации операторов, которые возвращают какое-то значение (а иногда не возвращают, когда методы возвращают тип `void`, aka. ничего).

**Операторы** позволяют вам производить всякие разные операции над значениями.

**Литералы** описывают значения, такие как числа и строки.

```cs
int a = 524 + 300;
// "524" и "300" - численные литералы
// "+" - оператор
// "524 + 300" - выражение, возвращающее 824
// "int a = 524 + 300" - высказывание (без точки с запятой ';')

char b = '%'; // "'%'" - символьный литерал

string textOne, textTwo;
textTwo = textOne = "nemo nisi per amicitiam cognoscitur";
// `"nemo nisi per amicitiam cognoscitur"` - строковый литерал
// второй "=" - оператор присваивания
// `textOne = "..."` - выражение, возвращающее "..."
// `textTwo = textOne = "..."` - высказывание
```

Операторы обычно делят на 6 категорий:

- Арифметические операторы;
- Операторы равенства;
- Операторы сравнения;
- Логические операторы;
- Побитовые операторы;
- Операторы присваивания;

Ниже описаны не все операторы. Я расскажу о других операторах в следующих гайдах, в соответствующем контексте.

## Арифметические операторы ##

- **Оператор сложения (`+`)** возвращает сумму операндов;
- **Оператор вычитания (`-`)** отнимает правый операнд от левого и возращает разницу;
- **Оператор умножения (`*`)** возвращает произведение операндов;
- **Оператор деления (`/`)** делит левый операнд на второй и возвращает частное;
- **Оператор остатка от деления (`%`)** делит левый операнд на второй и возвращает остаток от деления;<br/><br/>
- **Унарный плюс (`+`)** возвращает значение своего операнда;
- **Унарный минус (`-`)** возвращает противоположное операнду значение;<br/><br/>
- **Оператор инкремента (`++`)** увеличивает операнд на 1 (может быть использован как высказывание);
  - *Постфиксный оператор инкремента (`i++`):* возвращает операнд, и затем прибавляет к нему 1;
  - *Префиксный оператор инкремента (`++i`):* прибавляет к операнду 1, и затем возвращает его;
- **Оператор декремента (`--`)** уменьшает операнд на 1 (может быть использован как высказывание);
  - *Постфиксный оператор декремента (`i--`):* возвращает операнд, и затем отнимает от него 1;
  - *Префиксный оператор декремента (`--i`):* отнимает от операнда 1, и затем возвращает его;

```cs
int a = (17 + 23 * 2) / (12 - 35 / 7); // = 9
int b = 31 / 7; // = 4
int c = 31 % 7; // = 3

int d = +5;  // = 5
int e = -79; // = -79

int f = 1;
int g = f; // 1
g = f++;   // 1
g = f;     // 2
g = f--;   // 2
g = f;     // 1
g = ++f;   // 2
g = f;     // 2
g = --f;   // 1
g = f;     // 1
```

## Операторы равенства ##

- **Оператор равенства (`==`)** возвращает `true` если операнды равны;
- **Оператор неравенства (`!=`)** возвращает `true` если операнды неравны;

```cs
bool a = 19 == 19; // true
bool b = 67 != 12; // true
bool c = 4.52_0d == 4.52; // true
bool d = "text" != "text"; // false
```

## Операторы сравнения ##

- **Оператор "меньше чем" (`<`)** возвращает `true` если левый операнд меньше правого;
- **Оператор "больше чем" (`>`)** возвращает `true` если левый операнд больше правого;
- **Оператор "меньше чем либо равно" (`<=`)** возвращает `true` если левый операнд меньше либо равен правому;
- **Оператор "больше чем либо равно" (`>=`)** возвращает `true` если левый операнд больше либо равен правому;

```cs
bool a = 15 < 16;  // true
bool b = 65 <= 14; // false
bool c = 14 > 14;  // false
bool d = 67 >= 67; // true
```

## Логические операторы ##

- **Оператор логического отрицания (`!`)** возвращает `true` если операнд - `false`; иначе, возвращает `false`;
- **Оператор условного И (`&&`)** возвращает `true` если оба операнда - `true` (если левый оператор - `false`, то правый не вычисляется);
- **Оператор условного ИЛИ (`||`)** возвращает `true` если хотя бы один операнд - `true` (если левый операнд - `true`, то правый не вычисляется);<br/><br/>
- **Оператор логического И (`&`)** возвращает `true` если оба операнда - `true` (вычисляет **оба** операнда);
- **Оператор логического ИЛИ (`|`)** возвращает `true` если хотя бы один операнд - `true` (вычисляет **оба** операнда);
- **Оператор логического исключающего ИЛИ (`^`)** возвращает `true` если операнды различаются; для `bool` значений даёт тот же результат что и оператор неравенства (`!=`);<br/><br/>
- **Условный оператор (`?` `:`)**: если первый операнд - `true`, вычисляет и возвращает второй операнд; иначе, вычисляет и возвращает третий.

```cs
bool a = true;
bool b = false;
bool c = !a; // = false

bool d = a && b; // вычисляет оба операнда, так как a - true
bool e = a || b; // вычисляет только левый операнд, так как если a - true ⊃ результатом может быть только true

int f = 5 < 6 ? 10 : 20; // 5 < 6 будет равен true; f = 10
string s = "34 < 20: " + (34 < 20 ? "yes" : "no"); // "34 < 20: no"
// "(34 < 20 ? "yes" : "no")" будет равен "no", так как "34 < 20" - false
```

## Побитовые операторы ##

- **Оператор побитового дополнения (`~`)** возвращает побитовое дополнение операнда; *выолняет логическое отрицание (`!`) для каждого бита в числе*;
- **Оператор логического И (`&`)** возвращает побитовое И операндов; *выполняет логическое И (`&`) для каждого бита в числе*;
- **Оператор логического ИЛИ (`|`)** возвращает побитовое ИЛИ операндов; *выполняет логическое ИЛИ (`|`) для каждого бита в числе*;
- **Оператор логического исключающего ИЛИ (`^`)** возвращает побитовое исключающее ИЛИ операндов; *выполняет логическое исключающее ИЛИ (`^`) для каждого бита в числе*;<br/><br/>
- **Оператор сдвига влево (`<<`)** возвразает левый операнд, сдвинутый влево на количество битов, указанное вторым операндом;
- **Оператор сдвига вправо (`>>`)** возвразает левый операнд, сдвинутый вправо на количество битов, указанное вторым операндом;

```cs
uint a = 0b_0010_1101;
uint b = 0b_1011_1001;

uint c = ~a;     // 0b_11111111_11111111_11111111_1101_0010
uint d = a & b;  // 0b_0010_1001
uint e = a | b;  // 0b_1011_1101
uint f = a ^ b;  // 0b_1001_0100

uint x = a << 5; // 0b_0010_1101_00000
uint y = a >> 2; // 0b_00_0010_11
```

***Заметка:** при использовании сдвига на **знаковых** численных типах производится **арифметический сдвиг** (не передвигая знаковый бит). Если вам нужен **логический сдвиг** (сдвиг всех битов), явно приведите ваше число в его беззнаковую альтернативу (его двоичное представление останется тем же) и затем используйте оператор сдвига.*

```cs
int a = -5;
uint b = (uint)a;

uint c = b >> 4;
```

## Операторы присваивания ##

**Оператор присваивания (`=`)** присваивает значение правого операнда левому операнду (может быть использован как высказывание). Возвращает значение правого операнда.

```cs
a = b = c = d;
// Эквивалентно
c = d;
b = c;
a = b;

bool e;
if (e = 67 < 98) ...
```

Почти для каждого бинарного оператора `op` существует оператор составного присваивания:

```cs
a op= 10;
// Эквивалентно
a = a op 10;

a op= b op= c;
// Эквивалентно
a = a op (b = b op c);
```

```cs
int a = 50;

a += 20;
a /= 10;
a <<= 5;
a ^= 123456;
```

## Таблица порядка вычисления операторов ##
| Операторы                           | Категория       |
|-------------------------------------|-----------------|
| `x.y`, `f(x)`, `a[i]`, `x?.y`, `x?[y]`, `x++`, `x--`, `x!`, `new`, `typeof`, `checked`, `unchecked`, `default`, `nameof`, `delegate`, `sizeof`, `stackalloc`, `x->y` | Основные |
| `+x`, `-x`, `!x`, `~x`, `++x`, `--x`, `^x`, `(T)x`, `await`, `&x`, `*x`, `true`, `false` | Унарные |
| `x..y` | Диапазон |
| `switch` | Выражение `switch` |
| `x * y`, `x / y`, `x % y` | Умножение |
| `x + y`, `x - y` | Сложение |
| `x << y`, `x >> y` | Сдвиг |
| `x < y`, `x > y`, `x <= y`, `x >= y`, `is`, `as` | Сравнение и проверка типов |
| `x == y`, `x != y` | Равенство |
| `x & y` | Логическое И |
| `x ^ y` | Логическое исключающее ИЛИ |
| `x | y` | Логическое ИЛИ |
| `x && y` | Условное И |
| `x || y` | Условное ИЛИ |
| `x ?? y` | Оператор допущения значения null |
| `c ? t : f` | Условный оператор |
| `x = y`, `x op= y`, `x => y` | Присваивание и лямбда-выражения |

## Следующее: 4. [Ветвление и циклы](./4-Branches-and-loops.md) ##